(function(e){function t(t){for(var r,a,i=t[0],c=t[1],d=t[2],l=0,u=[];l<i.length;l++)a=i[l],n[a]&&u.push(n[a][0]),n[a]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);m&&m(t);while(u.length)u.shift()();return o.push.apply(o,d||[]),s()}function s(){for(var e,t=0;t<o.length;t++){for(var s=o[t],r=!0,a=1;a<s.length;a++){var i=s[a];0!==n[i]&&(r=!1)}r&&(o.splice(t--,1),e=c(c.s=s[0]))}return e}var r={},a={app:0},n={app:0},o=[];function i(e){return c.p+"spa-resources/js/"+({"messages-bg-BG":"messages-bg-BG"}[e]||e)+"."+{"chunk-0a8cc030":"e4ec184d","chunk-1bf71f0a":"a8aff120","chunk-368e5570":"64b87dba","chunk-49f2ec4b":"31d82d60","chunk-4bbebd65":"3dff7920","chunk-2d0c9af8":"8d480fe2","chunk-3105eb94":"4c7081a6","chunk-5f16c4c2":"39089e2f","chunk-63f71a02":"c9d7910e","chunk-0e47f47d":"3cc4934c","chunk-2d0d83c6":"668ab4d2","chunk-2524e7b3":"9f1da22b","chunk-21985d04":"b41c2f81","chunk-75b77860":"3fa5a57d","chunk-7ff16a36":"ca6ce7f9","chunk-7ff18136":"35a985af","chunk-87e00060":"2c1c70a4","chunk-96925fc4":"fe1eeded","chunk-aa672286":"123dc77d","chunk-e8827032":"252c2cf6","chunk-ee220a4e":"a0127747","chunk-f834a70c":"73289a96","chunk-07bfe8d0":"bf256ba1","chunk-dd234702":"413a240a","messages-bg-BG":"bde012ec"}[e]+".js"}function c(t){if(r[t])return r[t].exports;var s=r[t]={i:t,l:!1,exports:{}};return e[t].call(s.exports,s,s.exports,c),s.l=!0,s.exports}c.e=function(e){var t=[],s={"chunk-63f71a02":1,"chunk-21985d04":1,"chunk-75b77860":1,"chunk-07bfe8d0":1};a[e]?t.push(a[e]):0!==a[e]&&s[e]&&t.push(a[e]=new Promise(function(t,s){for(var r="spa-resources/css/"+({"messages-bg-BG":"messages-bg-BG"}[e]||e)+"."+{"chunk-0a8cc030":"31d6cfe0","chunk-1bf71f0a":"31d6cfe0","chunk-368e5570":"31d6cfe0","chunk-49f2ec4b":"31d6cfe0","chunk-4bbebd65":"31d6cfe0","chunk-2d0c9af8":"31d6cfe0","chunk-3105eb94":"31d6cfe0","chunk-5f16c4c2":"31d6cfe0","chunk-63f71a02":"19ae598d","chunk-0e47f47d":"31d6cfe0","chunk-2d0d83c6":"31d6cfe0","chunk-2524e7b3":"31d6cfe0","chunk-21985d04":"0d87ba85","chunk-75b77860":"38904eef","chunk-7ff16a36":"31d6cfe0","chunk-7ff18136":"31d6cfe0","chunk-87e00060":"31d6cfe0","chunk-96925fc4":"31d6cfe0","chunk-aa672286":"31d6cfe0","chunk-e8827032":"31d6cfe0","chunk-ee220a4e":"31d6cfe0","chunk-f834a70c":"31d6cfe0","chunk-07bfe8d0":"5c865690","chunk-dd234702":"31d6cfe0","messages-bg-BG":"31d6cfe0"}[e]+".css",n=c.p+r,o=document.getElementsByTagName("link"),i=0;i<o.length;i++){var d=o[i],l=d.getAttribute("data-href")||d.getAttribute("href");if("stylesheet"===d.rel&&(l===r||l===n))return t()}var u=document.getElementsByTagName("style");for(i=0;i<u.length;i++){d=u[i],l=d.getAttribute("data-href");if(l===r||l===n)return t()}var m=document.createElement("link");m.rel="stylesheet",m.type="text/css",m.onload=t,m.onerror=function(t){var r=t&&t.target&&t.target.src||n,o=new Error("Loading CSS chunk "+e+" failed.\n("+r+")");o.code="CSS_CHUNK_LOAD_FAILED",o.request=r,delete a[e],m.parentNode.removeChild(m),s(o)},m.href=n;var h=document.getElementsByTagName("head")[0];h.appendChild(m)}).then(function(){a[e]=0}));var r=n[e];if(0!==r)if(r)t.push(r[2]);else{var o=new Promise(function(t,s){r=n[e]=[t,s]});t.push(r[2]=o);var d,l=document.createElement("script");l.charset="utf-8",l.timeout=120,c.nc&&l.setAttribute("nonce",c.nc),l.src=i(e),d=function(t){l.onerror=l.onload=null,clearTimeout(u);var s=n[e];if(0!==s){if(s){var r=t&&("load"===t.type?"missing":t.type),a=t&&t.target&&t.target.src,o=new Error("Loading chunk "+e+" failed.\n("+r+": "+a+")");o.type=r,o.request=a,s[1](o)}n[e]=void 0}};var u=setTimeout(function(){d({type:"timeout",target:l})},12e4);l.onerror=l.onload=d,document.head.appendChild(l)}return Promise.all(t)},c.m=e,c.c=r,c.d=function(e,t,s){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(c.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)c.d(s,r,function(t){return e[t]}.bind(null,r));return s},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/",c.oe=function(e){throw console.error(e),e};var d=window["webpackJsonp"]=window["webpackJsonp"]||[],l=d.push.bind(d);d.push=t,d=d.slice();for(var u=0;u<d.length;u++)t(d[u]);var m=l;o.push([0,"chunk-vendors"]),s()})({0:function(e,t,s){e.exports=s("56d7")},"0abc":function(e,t,s){"use strict";s.d(t,"a",function(){return a});var r=s("dd93");class a{static get(e,t){return r["a"].getNestedVal(window.APP_CONFIG,e,r["a"].getNestedVal(Object({NODE_ENV:"production",VUE_APP_BASE_TITLE:"Presentator",VUE_APP_SUPPORT_EMAIL:"support@presentator.io",VUE_APP_SHOW_CREDITS:"1",VUE_APP_API_URL:"/api",VUE_APP_REPO_URL:"https://github.com/presentator/presentator",VUE_APP_ISSUES_URL:"https://github.com/presentator/presentator/issues",VUE_APP_TERMS_URL:"https://presentator.io/terms-and-conditions",VUE_APP_PROJECT_URL:"https://presentator.io",VUE_APP_USER_REFRESH_THRESHOLD:"1850000",VUE_APP_PREFERRED_LANGUAGE_STORAGE_KEY:"preferred_language",VUE_APP_AFTER_LOGIN_ROUTE_STORAGE_KEY:"after_login_route",VUE_APP_USER_DATA_STORAGE_KEY:"user_data",VUE_APP_AUTH_CLIENT_NAME_STORAGE_KEY:"auth_client_name",VUE_APP_AUTH_CLIENT_STATE_STORAGE_KEY:"auth_client_state",VUE_APP_BASE_PREVIEW_TOKEN_STORAGE_KEY:"preview_token",VUE_APP_PREVIEW_COMMENT_FROM_STORAGE_KEY:"preview_comment_from",VUE_APP_PREVIEW_BAR_VISIBLITY_STORAGE_KEY:"preview_bar_is_active",VUE_APP_FIRESTORE_PROJECT_ID:"",VUE_APP_FIRESTORE_COLLECTION:"presentator_notifications",BASE_URL:"/"}),e,t))}}},"127e":function(e,t,s){"use strict";var r=s("a1a6"),a=s.n(r);a.a},2714:function(e,t,s){"use strict";s.d(t,"a",function(){return n});s("28a5");var r=s("9242"),a=s("dd93");class n extends r["a"]{load(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e=e||{},super.load(e),this.prototypeId=a["a"].isEmpty(e.prototypeId)?null:e.prototypeId,this.order=a["a"].isEmpty(e.order)?1:e.order<<0,this.title=a["a"].isEmpty(e.title)?"":e.title,this.alignment=a["a"].isEmpty(e.alignment)?"center":e.alignment,this.background=a["a"].isEmpty(e.background)?"#ffffff":e.background,this.fixedHeader=a["a"].isEmpty(e.fixedHeader)?0:e.fixedHeader,this.fixedFooter=a["a"].isEmpty(e.fixedFooter)?0:e.fixedFooter,this.file=a["a"].isEmpty(e.file)?{}:e.file}get isLeftAligned(){return"left"===this.alignment}get isCenterAligned(){return"center"===this.alignment}get isRightAligned(){return"right"===this.alignment}get fileExtension(){return this.file.original?this.file.original.split(".").pop():""}getImage(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"original";return this.file[e]||this.file["original"]||""}}},"3d48":function(e,t,s){"use strict";s.d(t,"a",function(){return a});var r=s("dd93");class a{static getStorage(){return window.localStorage||window.sessionStorage}static hasStorage(){return"undefined"!==typeof this.getStorage()}static getItem(e,t){if(!this.hasStorage())return t;var s=this.getStorage().getItem(e),a=s;try{a=JSON.parse(s)}catch(n){}return r["a"].isEmpty(a)?t:a}static setItem(e,t){if(this.hasStorage()){var s=t;r["a"].isString(t)||(s=JSON.stringify(t)),this.getStorage().setItem(e,s)}}static removeItem(e){this.hasStorage()&&this.getStorage().removeItem(e)}}},4678:function(e,t,s){var r={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-SG":"cdab","./en-SG.js":"cdab","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-nz":"6f50","./en-nz.js":"6f50","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-tw":"90ea","./zh-tw.js":"90ea"};function a(e){var t=n(e);return s(t)}function n(e){var t=r[e];if(!(t+1)){var s=new Error("Cannot find module '"+e+"'");throw s.code="MODULE_NOT_FOUND",s}return t}a.keys=function(){return Object.keys(r)},a.resolve=n,e.exports=a,a.id="4678"},"46a0":function(e,t,s){"use strict";s.d(t,"a",function(){return o});var r=s("9242"),a=s("ebd1"),n=s("dd93");class o extends r["a"]{load(e){e=e||{},super.load(e),this.replyTo=n["a"].isEmpty(e.replyTo)?null:e.replyTo,this.screenId=n["a"].isEmpty(e.screenId)?null:e.screenId,this.from=n["a"].isEmpty(e.from)?"":e.from,this.message=n["a"].isEmpty(e.message)?"":e.message,this.left=n["a"].isEmpty(e.left)?0:e.left,this.top=n["a"].isEmpty(e.top)?0:e.top,this.status=n["a"].isEmpty(e.status)?"pending":e.status,this.user=n["a"].isEmpty(e.fromUser)?null:new a["a"](e.fromUser),!this.user&&e.user instanceof a["a"]&&(this.user=e.user)}get isPending(){return"pending"==this.status}get isResolved(){return"resolved"==this.status}get isReply(){return this.replyTo>0}get isPrimary(){return!this.isReply}}},"49cb":function(e,t,s){"use strict";s.d(t,"a",function(){return n});var r=s("9242"),a=s("dd93");class n extends r["a"]{load(e){e=e||{},super.load(e),this.screenId=a["a"].isEmpty(e.screenId)?null:e.screenId,this.hotspotTemplateId=a["a"].isEmpty(e.hotspotTemplateId)?null:e.hotspotTemplateId,this.type=a["a"].isEmpty(e.type)?"screen":e.type,this.left=a["a"].isEmpty(e.left)?0:e.left,this.top=a["a"].isEmpty(e.top)?0:e.top,this.width=a["a"].isEmpty(e.width)?0:e.width,this.height=a["a"].isEmpty(e.height)?0:e.height,this.settings=a["a"].isObject(e.settings)?e.settings:{}}}},"56d7":function(e,t,s){"use strict";s.r(t);var r=s("2b0e"),a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"app"}},[s("router-view"),s("toast")],1)},n=[],o=(s("ac6a"),s("ade3")),i=s("2f62"),c=s("0abc"),d=s("dd93"),l=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"notifications-wrapper"},[s("transition-group",{staticClass:"notifications-list",attrs:{name:"notifications-list",tag:"div"}},e._l(e.messages,function(t,r){return s("div",{key:t.text,staticClass:"notification",class:["notification-"+t.type,{"is-repeated":t.isRepeated}]},[t.closeBtn?s("span",{staticClass:"close-handle",on:{click:function(s){return s.preventDefault(),e.removeMessage(t.text)}}}):e._e(),s("div",{staticClass:"content"},[e._v(e._s(t.text))])])}),0)],1)},u=[];function m(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),s.push.apply(s,r)}return s}function h(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?m(s,!0).forEach(function(t){Object(o["a"])(e,t,s[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):m(s).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))})}return e}var p={name:"toast",computed:h({},Object(i["d"])({messages:e=>e.toast.messages})),methods:h({},Object(i["b"])({removeMessage:"toast/removeMessage"}))},f=p,g=s("2877"),v=Object(g["a"])(f,l,u,!1,null,null,null),y=v.exports;function b(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),s.push.apply(s,r)}return s}function E(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?b(s,!0).forEach(function(t){Object(o["a"])(e,t,s[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):b(s).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))})}return e}let _=null;var S={name:"app",components:{toast:y},computed:E({},Object(i["d"])({loggedUser:e=>e.user.user})),watch:{"loggedUser.id":function(e,t){e&&e.id?this.initUserNotificationsListener():this.stopUserNotificationsListener()},"$route.name":function(e,t){this.$route.meta.requiresAuth?this.initUserNotificationsListener():this.stopUserNotificationsListener()}},beforeMount(){this.$setDocumentTitle(""),this.loggedUser&&this.loggedUser.id||this.loadLocalUser()},beforeDestroy(){this.stopUserNotificationsListener()},methods:E({},Object(i["b"])({loadLocalUser:"user/loadLocal",loadUnreadComments:"notifications/loadUnreadComments"}),{stopUserNotificationsListener(){d["a"].isFunction(_)&&_()},initUserNotificationsListener(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];(e||!_)&&c["a"].get("VUE_APP_FIRESTORE_PROJECT_ID")&&c["a"].get("VUE_APP_FIRESTORE_COLLECTION")&&Promise.all([s.e("chunk-4bbebd65"),s.e("chunk-2d0c9af8")]).then(s.t.bind(null,"59ca",7)).then(e=>{Promise.all([s.e("chunk-4bbebd65"),s.e("chunk-3105eb94")]).then(s.bind(null,"e71f")).then(()=>{if(this.loggedUser.id){e.apps.length||e.initializeApp({projectId:c["a"].get("VUE_APP_FIRESTORE_PROJECT_ID")});var t=e.firestore();this.stopUserNotificationsListener(),_=t.collection(c["a"].get("VUE_APP_FIRESTORE_COLLECTION")).where("u"+this.loggedUser.id,">",0).onSnapshot(e=>{this.loggedUser.id&&this.loadUnreadComments()})}})})}})},w=S,j=(s("127e"),Object(g["a"])(w,a,n,!1,null,null,null)),k=j.exports,A=d["a"].createResettableStore({namespaced:!0,initialState(){return{errors:[]}},mutations:{setErrors(e,t){r["a"].set(e,"errors",t||{})},removeError(e,t){r["a"].delete(e.errors,t)}},actions:{setErrors(e,t){e.commit("setErrors",t)},removeError(e,t){e.commit("removeError",t)}},getters:{getError:e=>t=>{return e.errors[t]||""}}});const P={text:"",type:"",closeBtn:!0,timeout:4500,isRepeated:!1,repeatedTimeoutId:null,removeTimeoutId:null};var T=d["a"].createResettableStore({namespaced:!0,initialState(){return{messages:[]}},mutations:{setMessages(e,t){r["a"].set(e,"messages",t||{})},addMessage(e,t){t=Object.assign({},P,t);for(let s=e.messages.length-1;s>=0;s--)if(e.messages[s].text===t.text){t.repeatedTimeoutId=e.messages[s].repeatedTimeoutId,t.removeTimeoutId=e.messages[s].removeTimeoutId,t.isRepeated=!0,e.messages.splice(s,1);break}e.messages.push(t)},removeMessage(e,t){for(let s=e.messages.length-1;s>=0;s--)if(e.messages[s].text===t){e.messages[s].removeTimeoutId&&clearTimeout(e.messages[s].removeTimeoutId),e.messages.splice(s,1);break}}},actions:{setMessages(e,t){e.commit("setMessages",t)},clearMessages(e){e.commit("setMessages",{})},addMessage(e,t){e.commit("addMessage",t);let s=e.state.messages[e.state.messages.length-1];s&&(s.isRepeated&&(s.repeatedTimeoutId&&clearTimeout(s.repeatedTimeoutId),s.repeatedTimeoutId=setTimeout(()=>{s.isRepeated=!1},400)),s.removeTimeoutId&&(clearTimeout(s.removeTimeoutId),s.removeTimeoutId=null),s.timeout>0&&(s.removeTimeoutId=setTimeout(()=>{e.dispatch("removeMessage",s.text)},s.timeout)))},removeMessage(e,t){e.commit("removeMessage",t)}}}),I=s("ebd1"),O=s("3d48"),U=d["a"].createResettableStore({namespaced:!0,initialState(){return{user:new I["a"]}},mutations:{set(e,t){e.user=new I["a"](t)}},actions:{set(e,t){e.commit("set",t),O["a"].setItem(c["a"].get("VUE_APP_USER_DATA_STORAGE_KEY"),e.state.user.export())},clear(e){e.dispatch("set",{}),O["a"].removeItem(c["a"].get("VUE_APP_USER_DATA_STORAGE_KEY"))},loadLocal(e){e.dispatch("set",O["a"].getItem(c["a"].get("VUE_APP_USER_DATA_STORAGE_KEY"),{}))}}}),C=s("f744"),R=s("46a0"),x=d["a"].createResettableStore({namespaced:!0,initialState(){return{unreadComments:[]}},mutations:{setUnreadComments(e,t){e.unreadComments=R["a"].createInstances(t)},addUnreadComment(e,t){d["a"].pushUnique(e.unreadComments,new R["a"](t))},removeUnreadComment(e,t){d["a"].removeByKey(e.unreadComments,"id",t)}},actions:{setUnreadComments(e,t){e.commit("setUnreadComments",t)},addUnreadComment(e,t){e.commit("addUnreadComment",t)},removeUnreadComment(e,t){e.commit("removeUnreadComment",t)},loadUnreadComments(e){return new Promise((t,s)=>{C["a"].ScreenComments.getUnread().then(s=>{e.dispatch("setUnreadComments",s.data),t(s)}).catch(e=>{s(e)})})},markAsRead(e,t){return new Promise((s,r)=>{e.dispatch("removeUnreadComment",t),C["a"].ScreenComments.read(t).then(e=>{s(e)}).catch(e=>{r(e)})})}},getters:{getUnreadComment:e=>t=>{return d["a"].findByKey(e.unreadComments,"id",t)},getUnreadCommentsForProp:(e,t)=>(t,s)=>{var r=[];if(s)for(let a=e.unreadComments.length-1;a>=0;a--)(e.unreadComments[a][t]==s||e.unreadComments[a].metaData&&e.unreadComments[a].metaData[t]==s)&&r.unshift(e.unreadComments[a]);return r},getUnreadCommentsForScreen:(e,t)=>e=>{return t.getUnreadCommentsForProp("screenId",e)},getUnreadCommentsForPrototype:(e,t)=>e=>{return t.getUnreadCommentsForProp("prototypeId",e)},getUnreadCommentsForProject:(e,t)=>e=>{return t.getUnreadCommentsForProp("projectId",e)},getUnreadCommentsForComment:(e,t)=>e=>{return t.getUnreadCommentsForProp("replyTo",e)}}}),L=s("72a1"),N=d["a"].createResettableStore({namespaced:!0,initialState(){return{activePrototypeId:null,prototypes:[]}},mutations:{setActivePrototypeId(e,t){e.activePrototypeId=t},setPrototypes(e,t){e.prototypes=L["a"].createInstances(t)},removePrototype(e,t){d["a"].removeByKey(e.prototypes,"id",t)},addPrototype(e,t){d["a"].pushUnique(e.prototypes,new L["a"](t))},updatePrototype(e,t){t=t||{};var s=d["a"].findByKey(e.prototypes,"id",t.id);if(s){let r=s.clone(t);d["a"].removeByKey(e.prototypes,"id",s.id),e.prototypes.push(r)}}},actions:{setActivePrototypeId(e,t){var s=e.getters.getPrototype(t)||e.state.prototypes[0];e.commit("setActivePrototypeId",s?s.id:null)},setPrototypes(e,t){e.commit("setPrototypes",t),e.state.prototypes[0]&&e.dispatch("setActivePrototypeId",e.state.prototypes[0].id)},removePrototype(e,t){if(e.commit("removePrototype",t),e.state.activePrototypeId==t){let t=e.state.prototypes.length?e.state.prototypes[e.state.prototypes.length-1].id:null;e.dispatch("setActivePrototypeId",t)}},addPrototype(e,t){e.commit("addPrototype",t)},updatePrototype(e,t){e.commit("updatePrototype",t)}},getters:{getPrototype:e=>t=>{return d["a"].findByKey(e.prototypes,"id",t)},activePrototype:(e,t)=>{return t.getPrototype(e.activePrototypeId)}}}),F=(s("55dd"),s("2714")),H=d["a"].createResettableStore({namespaced:!0,initialState(){return{scaleFactor:1,screens:[],activeScreenId:null,selectedScreens:[]}},mutations:{setScaleFactor(e,t){e.scaleFactor=t},setActiveScreenId(e,t){e.activeScreenId=t},setScreens(e,t){e.screens=F["a"].createInstances(t)},removeScreen(e,t){d["a"].removeByKey(e.screens,"id",t)},addScreen(e,t){var s=new F["a"](t);d["a"].pushUnique(e.screens,s)},updateScreen(e,t){t=t||{};var s=d["a"].findByKey(e.screens,"id",t.id);if(s){let r=s.clone(t);d["a"].removeByKey(e.screens,"id",s.id),e.screens.push(r)}},selectScreen(e,t){t<<=0,t&&e.selectedScreens.indexOf(t)<0&&e.selectedScreens.push(t)},deselectScreen(e,t){t<<=0,t&&e.selectedScreens.indexOf(t)>=0&&e.selectedScreens.splice(e.selectedScreens.indexOf(t),1)}},actions:{setScaleFactor(e,t){e.commit("setScaleFactor",t)},setActiveScreenId(e,t){var s=e.getters.getScreen(t)||e.state.screens[0];e.commit("setActiveScreenId",s?s.id:null)},setScreens(e,t){e.commit("setScreens",t),e.state.screens[0]&&e.dispatch("setActiveScreenId",e.state.screens[0].id),e.dispatch("deselectAllScreens")},appendScreens(e,t){for(let s in t)e.dispatch("addScreen",t[s])},removeScreen(e,t){let s=e.getters.getScreen(t);if(e.commit("removeScreen",s.id),e.state.activeScreenId==s.id){let t=e.state.screens.length?e.state.screens[e.state.screens.length-1].id:null;e.dispatch("setActiveScreenId",t)}for(let a=e.state.screens.length-1;a>=0;a--)e.state.screens[a].order>=s.order&&r["a"].set(e.state.screens[a],"order",e.state.screens[a].order-1);e.dispatch("deselectScreen",t)},addScreen(e,t){e.commit("addScreen",t)},updateScreen(e,t){e.commit("updateScreen",t)},selectScreen(e,t){e.commit("selectScreen",t)},deselectScreen(e,t){e.commit("deselectScreen",t)},toggleScreenSelection(e,t){e.getters.isScreenSelected(t)?e.dispatch("deselectScreen",t):e.dispatch("selectScreen",t)},selectAllScreens(e){for(let t=e.state.screens.length-1;t>=0;t--)e.dispatch("selectScreen",e.state.screens[t].id)},deselectAllScreens(e){for(let t=e.state.selectedScreens.length-1;t>=0;t--)e.dispatch("deselectScreen",e.state.selectedScreens[t])}},getters:{orderedScreens(e){return e.screens.slice().sort((e,t)=>e["order"]-t["order"])},getScreen:e=>t=>{return d["a"].findByKey(e.screens,"id",t)},activeScreen:(e,t)=>{return t.getScreen(e.activeScreenId)},activeScreenOrderedIndex:(e,t)=>{var s=t.activeScreen;if(s){let e=t.orderedScreens;for(let t=e.length-1;t>=0;t--)if(e[t].id==s.id)return t}return-1},isScreenSelected:e=>t=>{return e.selectedScreens.indexOf(t<<0)>=0}}}),B=d["a"].createResettableStore({namespaced:!0,initialState(){return{comments:[]}},mutations:{setComments(e,t){e.comments=R["a"].createInstances(t)},addComment(e,t){d["a"].pushUnique(e.comments,new R["a"](t))},updateComment(e,t){t=t||{};var s=d["a"].findByKey(e.comments,"id",t.id);if(s){let r=s.clone(t);d["a"].removeByKey(e.comments,"id",s.id),e.comments.push(r)}},removeComment(e,t){d["a"].removeByKey(e.comments,"id",t)}},actions:{setComments(e,t){e.commit("setComments",t)},appendComments(e,t){for(let s in t)e.dispatch("addComment",t[s])},addComment(e,t){e.commit("addComment",t)},updateComment(e,t){e.commit("updateComment",t)},removeComment(e,t){e.commit("removeComment",t)}},getters:{getComment:e=>t=>{return d["a"].findByKey(e.comments,"id",t)},getCommentsForScreen:(e,t)=>(function(t){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];var a=[];for(let n=e.comments.length-1;n>=0;n--)e.comments[n].screenId!=t||s&&e.comments[n].status!=s||a.unshift(e.comments[n]);return r&&a.sort((e,t)=>Date.parse(e["createdAt"])-Date.parse(t["createdAt"])),a})}}),$=s("49cb"),V=s("9242");class K extends V["a"]{load(e){e=e||{},super.load(e),this.prototypeId=d["a"].isEmpty(e.prototypeId)?null:e.prototypeId,this.title=d["a"].isEmpty(e.title)?"":e.title,this.screenIds=d["a"].isArray(e.screenIds)?e.screenIds:[]}}var D=d["a"].createResettableStore({namespaced:!0,initialState(){return{hotspots:[],hotspotTemplates:[]}},mutations:{setHotspots(e,t){e.hotspots=$["a"].createInstances(t)},addHotspot(e,t){var s=new $["a"](t);d["a"].pushUnique(e.hotspots,s)},updateHotspot(e,t){t=t||{};var s=d["a"].findByKey(e.hotspots,"id",t.id);if(s){let r=s.clone(t);d["a"].removeByKey(e.hotspots,"id",s.id),e.hotspots.push(r)}},removeHotspot(e,t){d["a"].removeByKey(e.hotspots,"id",t)},setHotspotTemplates(e,t){e.hotspotTemplates=K.createInstances(t)},addHotspotTemplate(e,t){var s=new K(t);d["a"].pushUnique(e.hotspotTemplates,s)},updateHotspotTemplate(e,t){t=t||{};var s=d["a"].findByKey(e.hotspotTemplates,"id",t.id);if(s){let r=s.clone(t);d["a"].removeByKey(e.hotspotTemplates,"id",s.id),e.hotspotTemplates.push(r)}},removeHotspotTemplate(e,t){d["a"].removeByKey(e.hotspotTemplates,"id",t)}},actions:{setHotspots(e,t){e.commit("setHotspots",t)},appendHotspots(e,t){for(let s=t.length-1;s>=0;s--)e.dispatch("addHotspot",t[s])},addHotspot(e,t){e.commit("addHotspot",t)},updateHotspot(e,t){e.commit("updateHotspot",t)},removeHotspot(e,t){e.commit("removeHotspot",t)},setHotspotTemplates(e,t){e.commit("setHotspotTemplates",t)},appendHotspotTemplates(e,t){for(let s in t)e.dispatch("addHotspotTemplate",t[s])},addHotspotTemplate(e,t){e.commit("addHotspotTemplate",t)},updateHotspotTemplate(e,t){e.commit("updateHotspotTemplate",t)},removeHotspotTemplate(e,t){e.commit("removeHotspotTemplate",t)}},getters:{getHotspot:e=>t=>{return d["a"].findByKey(e.hotspots,"id",t)},getHotspotTemplate:e=>t=>{return d["a"].findByKey(e.hotspotTemplates,"id",t)},getHotspotsForScreen:(e,t)=>s=>{var r=[];for(let a=e.hotspots.length-1;a>=0;a--)if(e.hotspots[a].screenId==s)r.unshift(e.hotspots[a]);else if(e.hotspots[a].hotspotTemplateId){let n=t.getHotspotTemplate(e.hotspots[a].hotspotTemplateId);n&&d["a"].inArray(n.screenIds,s)&&r.unshift(e.hotspots[a])}return r}}});const M=c["a"].get("VUE_APP_BASE_PREVIEW_TOKEN_STORAGE_KEY");var G=d["a"].createResettableStore({namespaced:!0,initialState(){return{previewToken:""}},mutations:{setPreviewToken(e,t){e.previewToken=t}},actions:{setPreviewToken(e,t){if(e.commit("setPreviewToken",t),t){let e=d["a"].getJwtPayload(t);O["a"].setItem(M+e.slug,t)}},clearPreviewToken(e,t){t&&O["a"].removeItem(M+t),e.dispatch("setPreviewToken","")},loadLocalPreviewToken(e,t){var s=O["a"].getItem(M+t);d["a"].isJwtExpired(s)?e.dispatch("clearPreviewToken",t):e.dispatch("setPreviewToken",s)}}});r["a"].use(i["a"]);var q=new i["a"].Store({modules:{"form-field":A,toast:T,user:U,notifications:x,prototypes:N,screens:H,comments:B,hotspots:D,preview:G}}),z=s("8c4f");r["a"].use(z["a"]);const Y=new z["a"]({mode:"hash",routes:[{path:"/",name:"home",redirect:{name:"projects"},meta:{requiresAuth:!0}},{path:"/sign-in",name:"login",component:()=>s.e("chunk-aa672286").then(s.bind(null,"298a")),meta:{requiresAuth:!1,isAuthRoute:!0}},{path:"/sign-up",name:"register",component:()=>s.e("chunk-e8827032").then(s.bind(null,"e0c2")),meta:{requiresAuth:!1,isAuthRoute:!0}},{path:"/auth-callback",name:"auth-callback",component:()=>s.e("chunk-0a8cc030").then(s.bind(null,"88ff")),meta:{requiresAuth:!1,isAuthRoute:!0}},{path:"/activate/:activateToken",name:"activate",component:()=>s.e("chunk-5f16c4c2").then(s.bind(null,"81e1")),meta:{requiresAuth:!1,isAuthRoute:!0}},{path:"/change-email/:emailChangeToken",name:"change-email",component:()=>s.e("chunk-87e00060").then(s.bind(null,"c999")),meta:{requiresAuth:!1,isAuthRoute:!0}},{path:"/forgotten-password",name:"forgotten-password",component:()=>s.e("chunk-49f2ec4b").then(s.bind(null,"5d68")),meta:{requiresAuth:!1,isAuthRoute:!0}},{path:"/reset-password/:resetToken",name:"reset-password",component:()=>s.e("chunk-96925fc4").then(s.bind(null,"6758")),meta:{requiresAuth:!1,isAuthRoute:!0}},{path:"/projects",name:"projects",component:()=>Promise.all([s.e("chunk-63f71a02"),s.e("chunk-0e47f47d")]).then(s.bind(null,"c746")),meta:{requiresAuth:!0}},{path:"/projects/:projectId/guideline",name:"guideline",component:()=>Promise.all([s.e("chunk-63f71a02"),s.e("chunk-2d0d83c6"),s.e("chunk-2524e7b3"),s.e("chunk-21985d04")]).then(s.bind(null,"6eaf")),meta:{requiresAuth:!0}},{path:"/projects/:projectId/prototypes/:prototypeId?",name:"prototype",component:()=>Promise.all([s.e("chunk-63f71a02"),s.e("chunk-2d0d83c6"),s.e("chunk-2524e7b3"),s.e("chunk-75b77860")]).then(s.bind(null,"b193")),meta:{requiresAuth:!0}},{path:"/projects/:projectId/prototypes/:prototypeId/screens/:screenId?",name:"screen",component:()=>Promise.all([s.e("chunk-f834a70c"),s.e("chunk-07bfe8d0")]).then(s.bind(null,"ce01")),meta:{requiresAuth:!0}},{path:"/users",name:"users",component:()=>Promise.all([s.e("chunk-63f71a02"),s.e("chunk-7ff18136")]).then(s.bind(null,"f8e5")),meta:{requiresAuth:!0,isSuperUserRoute:!0}},{path:"/users/:userId",name:"user",component:()=>Promise.all([s.e("chunk-63f71a02"),s.e("chunk-2d0d83c6"),s.e("chunk-7ff16a36")]).then(s.bind(null,"f2a7")),meta:{requiresAuth:!0}},{path:"/:slug",name:"preview",component:()=>s.e("chunk-368e5570").then(s.bind(null,"f228")),meta:{requiresAuth:!1},props:!0,children:[{path:"prototypes/:prototypeId?/screens/:screenId?",alias:"",name:"preview-prototype",component:()=>Promise.all([s.e("chunk-f834a70c"),s.e("chunk-dd234702")]).then(s.bind(null,"fb7f")),meta:{requiresAuth:!1}},{path:"guideline",name:"preview-guideline",component:()=>s.e("chunk-ee220a4e").then(s.bind(null,"795d")),meta:{requiresAuth:!1}}]},{path:"/not-found",alias:"*",name:"404",component:()=>s.e("chunk-1bf71f0a").then(s.bind(null,"b684")),meta:{requiresAuth:!1}}]});Y.beforeEach((e,t,s)=>{var r=!d["a"].isJwtExpired(C["a"].getStoredApiToken());return e.meta.requiresAuth&&!r?(O["a"].setItem(c["a"].get("VUE_APP_AFTER_LOGIN_ROUTE_STORAGE_KEY"),e.fullPath),s({name:"login"})):e.meta.isAuthRoute&&r?s({name:"home"}):!e.meta.isSuperUserRoute||!Y.app.$store||Y.app.$store.state.user.user&&Y.app.$store.state.user.user.isSuperUser?(t.name&&Y.app.$store&&e.meta.requiresAuth!=t.meta.requiresAuth&&(Y.app.$store.dispatch("notifications/reset"),Y.app.$store.dispatch("comments/reset"),Y.app.$store.dispatch("hotspots/reset"),Y.app.$store.dispatch("prototypes/reset"),Y.app.$store.dispatch("screens/reset"),Y.app.$store.dispatch("preview/reset")),s()):s({name:"home"})}),Y.afterEach((e,t)=>{Y.app.$clearFormFieldErrors(),Y.app.$refreshUser()});var W=Y,J=s("9225"),X=(s("a481"),{install(e,t){e.prototype.$setDocumentTitle=function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];d["a"].isFunction(e)?(document._titleFunc=e,e=e()):document._titleFunc=null,e&&t&&(e+=" - "+c["a"].get("VUE_APP_BASE_TITLE")),document.title=e||c["a"].get("VUE_APP_BASE_TITLE")},e.prototype.$toast=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success",s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:4500,r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];this.$store.dispatch("toast/addMessage",{text:e,type:t,timeout:s,closeBtn:r})},e.prototype.$clearFormFieldErrors=function(){this.$store.dispatch("form-field/reset")},e.prototype.$getAppConfig=function(e,t){return c["a"].get(e,t)},e.prototype.$loginByResponse=function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(e=e||{},C["a"].storeApiToken(d["a"].getNestedVal(e,"data.token","")),this.$store.dispatch("user/set",d["a"].getNestedVal(e,"data.user",{})),t){let e=O["a"].getItem(c["a"].get("VUE_APP_AFTER_LOGIN_ROUTE_STORAGE_KEY"));e?this.$router.replace(e):this.$router.replace({name:"home"})}O["a"].removeItem(c["a"].get("VUE_APP_AFTER_LOGIN_ROUTE_STORAGE_KEY"))},e.prototype.$logout=function(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];C["a"].clearStoredApiToken(),this.$store.dispatch("user/clear"),e&&this.$router.replace({name:"login"})},e.prototype.$refreshUser=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];var t=C["a"].getStoredApiToken(),s=(c["a"].get("VUE_APP_USER_REFRESH_THRESHOLD")<<0)/1e3;t&&!d["a"].isJwtExpired(t)&&(e||d["a"].isJwtExpired(t,s))&&C["a"].Users.refresh().then(e=>{this.$loginByResponse(e,!1)})},e.prototype.$errResponseHandler=function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";if(e&&e instanceof Error){var r=d["a"].getNestedVal(e,"response.status",400)<<0,a=d["a"].getNestedVal(e,"response.data",{});if(t&&404!==r){let t=a.message||e.message||s;t&&this.$toast(t,"danger")}if(d["a"].isEmpty(a.errors)||this.$nextTick(()=>{this.$store.dispatch("form-field/setErrors",a.errors)}),401===r)return"preview-guideline"===this.$route.name||"preview-prototype"===this.$route.name?void this.$store.dispatch("preview/clearPreviewToken",this.$route.params.slug):(O["a"].setItem(c["a"].get("VUE_APP_AFTER_LOGIN_ROUTE_STORAGE_KEY"),this.$route.fullPath),void this.$logout());403!==r||"home"===this.$route.name?404!==r||"404"===this.$route.name||this.$router.replace({name:"404"}):this.$router.replace({name:"home"})}}}});let Q=!1;var Z={install(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];var t;const s=function(){return t||(t=document.getElementById("__tooltip_directive__"),t||(t=document.createElement("div"),t.setAttribute("class","tooltip-directive"),t.setAttribute("id","__tooltip_directive__"),document.body.appendChild(t)),t)},r=function(e){var t=this.tooltipText||"",r=this.tooltipPosition||"bottom",a=this.getBoundingClientRect(),n=s(),o=2,i=4,c=0,d=0;t?(n.textContent=t,n.classList.add("active"),n.style.left="0px",n.style.top="0px","top"===r?(c=a.left+a.width/2-n.offsetWidth/2,d=a.top-n.offsetHeight-i):"left"===r?(c=a.left-n.offsetWidth-o,d=a.top+a.height/2-n.offsetHeight/2):"right"===r?(c=a.left+a.width+o,d=a.top+a.height/2-n.offsetHeight/2):"bottom"===r?(c=a.left+a.width/2-n.offsetWidth/2,d=a.top+a.height+i):(c=e.pageX+5,d=e.pageY+5),c+n.offsetWidth>document.documentElement.clientWidth&&(c=document.documentElement.clientWidth-n.offsetWidth-5),c=c>=0?c:0,d+n.offsetHeight>document.documentElement.clientHeight&&(d=document.documentElement.clientHeight-n.offsetHeight-5),d=d>=0?d:0,n.style.left=c+"px",n.style.top=d+"px"):n.classList.remove("active")},a=function(e){s().classList.remove("active")};Q||(document.addEventListener("scroll",a,{capture:!0,passive:!0}),Q=!0),e.directive("tooltip",{bind(e,t,s,n){t.modifiers.follow?e.tooltipPosition="follow":t.modifiers.top?e.tooltipPosition="top":t.modifiers.left?e.tooltipPosition="left":t.modifiers.right?e.tooltipPosition="right":e.tooltipPosition="bottom",e.tooltipText=t.value,e.addEventListener("mousemove",r),e.addEventListener("focusin",r),e.addEventListener("mouseleave",a),e.addEventListener("focusout",a)},update(e,t,s,r){t.value!=t.oldValue&&(e.tooltipText=t.value)},unbind(e,t,n,o){e.removeEventListener("mousemove",r),e.removeEventListener("focusin",r),e.removeEventListener("mouseleave",a),e.removeEventListener("focusout",a);var i=s();e&&i&&i.classList.contains("active")&&i.textContent==e.tooltipText&&a()}})}},ee={install(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];const t=function(e,t,s){t&&t._outsideClickStatus&&e.target&&t!==e.target&&!t.contains(e.target)&&"function"===typeof s&&s()};e.directive("outside-click",{bind(e,s,r,a){e._outsideClickStatus=d["a"].getNestedVal(s.value,"status",!1),e._outsideMousedownHandler=function(s){t(s,e,()=>{e._outsideMouseDown=!0})},e._outsideClickHandler=function(r){e._outsideMouseDown&&(e._outsideMouseDown=!1,t(r,e,d["a"].getNestedVal(s.value,"handler",!1)))},document.addEventListener("mousedown",e._outsideMousedownHandler),document.addEventListener("click",e._outsideClickHandler)},update(e,t,s,r){var a=d["a"].getNestedVal(t.value,"status",!1),n=d["a"].getNestedVal(t.oldValue,"status",!1);a!=n&&(e._outsideClickStatus=a)},unbind(e,t,s,r){document.removeEventListener("mousedown",e._outsideMousedownHandler),document.removeEventListener("click",e._outsideClickHandler)}})}},te={install(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];const t=function(e,t){e.src&&"IMG"==e.tagName&&(e.scaledSrc=e.src,e.style.width="auto",e.style.height="auto",e.style["max-width"]=0==t?"100%":"",d["a"].loadImage(e.src).then(s=>{if(s.success&&s.width>0&&e){let r=t>0?s.width*t:s.width;e.style.width=r+"px"}}))};e.directive("scale",{bind(e,s,r,a){t(e,s.value)},update(e,s,r,a){s.value==s.oldValue&&e.scaledSrc==e.src||t(e,s.value)}})}},se={install(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];const t=function(e,t,s){s=s||{},!s.modifiers[e.which||e.keyCode]||s.modifiers.ctrl&&!e.ctrlKey||s.modifiers.alt&&!e.altKey||s.modifiers.shift&&!e.shiftKey||s.modifiers.meta&&!e.metaKey||!d["a"].isFunction(s.value)||e.target&&d["a"].isFormField(e.target)||document.querySelector(".popover.active, .popup.active, .dropdown.active")||document.activeElement&&document.activeElement.isContentEditable||(e.preventDefault(),s.value(e,t))},s=function(e){return e.replace(/\W/g,"_")};e.directive("shortcut",{bind(e,r,a,n){let o=s(r.rawName);e[o]=function(s){t(s,e,r)},document.addEventListener("keydown",e[o])},unbind(e,t,r,a){document.removeEventListener("keydown",e[s(t.rawName)])}})}},re=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"form-group",class:{"has-error":e.hasVisibleError}},[e._t("default"),s("div",{directives:[{name:"show",rawName:"v-show",value:e.showErrorMsg&&e.hasVisibleError,expression:"showErrorMsg && hasVisibleError"}],staticClass:"help-block help-block-error"},[e._v(e._s(e.error))])],2)},ae=[],ne={name:"form-field",props:{name:{type:String,required:!0},showErrorMsg:{type:Boolean,default:!0}},data(){return{hideError:!1}},computed:{errors(){return this.$store.state["form-field"].errors},error(){return this.$store.getters["form-field/getError"](this.name)||""},hasVisibleError(){return!this.hideError&&this.error.length}},watch:{errors(e,t){this.hideError=!1}},mounted(){const e=()=>{this.hideError=!0};this.$el.addEventListener("change",e),this.$once("hook:beforeDestroy",()=>{this.$el.removeEventListener("change",e)})}},oe=ne,ie=Object(g["a"])(oe,re,ae,!1,null,null,null),ce=ie.exports,de=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{directives:[{name:"show",rawName:"v-show",value:e.isActive,expression:"isActive"}],staticClass:"alert"},[e.closeBtn?s("span",{staticClass:"close-handle",on:{click:function(t){return t.preventDefault(),e.hide()}}}):e._e(),s("div",{staticClass:"content"},[e._t("default")],2)])},le=[],ue={name:"alert",props:{closeTimeout:{type:Number,default:5e3},closeBtn:{type:Boolean,default:!0},visibility:{type:Boolean,default:!0}},data(){return{isActive:!1}},watch:{visibility:function(e,t){e?this.show():this.hide()}},mounted(){this.visibility?this.show():this.hide()},methods:{hide(){this.isActive=!1,this.closeTimeoutId&&clearTimeout(this.closeTimeoutId)},show(){this.isActive=!0,this.closeTimeout>0&&(this.closeTimeoutId&&clearTimeout(this.closeTimeoutId),this.closeTimeoutId=setTimeout(()=>{this.hide()},this.closeTimeout))}}},me=ue,he=Object(g["a"])(me,de,le,!1,null,null,null),pe=he.exports,fe=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s(e.tag,{directives:[{name:"outside-click",rawName:"v-outside-click",value:{status:e.hideOnOutsideClick&&e.isActive,handler:e.triggerHide},expression:"{\n        'status':  hideOnOutsideClick && isActive,\n        'handler': triggerHide,\n    }"}],tag:"component",class:{active:e.isActive}},[e._t("default")],2)},ge=[],ve={name:"toggler",props:{trigger:{},tag:{type:String,default:"div"},hideOnOutsideClick:{type:Boolean,default:!0},hideOnChildClick:{type:Boolean,default:!0}},data(){return{isActive:!1}},computed:{triggerElem(){return this.trigger?d["a"].isString(this.trigger)?document.querySelector(this.trigger)||this.$el.parentNode:this.trigger:this.$el.parentNode}},mounted(){this.triggerElem&&this.triggerElem.addEventListener("click",this.triggerToggle)},beforeDestroy(){this.triggerElem&&this.triggerElem.removeEventListener("click",this.triggerToggle)},methods:{hide(){this.isActive=!1,this.triggerElem&&this.triggerElem.classList.remove("active"),this.$emit("hide")},show(){this.isActive=!0,this.triggerElem&&this.triggerElem.classList.add("active"),this.$emit("show")},toggle(){this.isActive?this.hide():this.show()},triggerHide(e){this.isActive&&this.hide()},triggerToggle(e){e.target&&this.$el&&(this.$el===e.target||this.$el.contains(e.target))?this.hideOnChildClick&&setTimeout(()=>{this.hide()},0):this.toggle()}}},ye=ve,be=Object(g["a"])(ye,fe,ge,!1,null,null,null),Ee=be.exports;r["a"].config.productionTip=!1,r["a"].use(X),r["a"].use(Z),r["a"].use(ee),r["a"].use(te),r["a"].use(se),r["a"].component("form-field",ce),r["a"].component("alert",pe),r["a"].component("toggler",Ee),new r["a"]({store:q,router:W,i18n:J["b"],render:e=>e(k)}).$mount("#app")},"72a1":function(e,t,s){"use strict";s.d(t,"a",function(){return o});var r=s("9242"),a=s("dd93");const n={"375x812":{label:"iPhone X (375x812)",width:375,height:812},"375x667":{label:"iPhone 6/7/8 (375x667)",width:375,height:667},"1024x1366":{label:"iPad Pro (1024x1366)",width:1024,height:1366},"768x1024":{label:"iPad Mini/Air (768x1024)",width:768,height:1024},"324x394":{label:"Apple Watch (324x394)",width:324,height:394},"412x824":{label:"Pixel 3 (412x824)",width:412,height:824},"360x740":{label:"Samsung Galaxy S9 (360x740)",width:360,height:740},other:{label:"Other device",width:0,height:0}};class o extends r["a"]{load(e){e=e||{},super.load(e),this.projectId=a["a"].isEmpty(e.projectId)?null:e.projectId,this.title=a["a"].isEmpty(e.title)?"":e.title,this.type=a["a"].isEmpty(e.type)?"desktop":e.type,this.width=a["a"].isEmpty(e.width)?0:e.width,this.height=a["a"].isEmpty(e.height)?0:e.height,this.scaleFactor=a["a"].isEmpty(e.scaleFactor)?1:e.scaleFactor}get isForDesktop(){return"desktop"==this.type}get isForMobile(){return"mobile"==this.type}get sizeKey(){var e=this.width+"x"+this.height;return n[e]?e:"other"}get sizeOptions(){return n[this.sizeKey]}static getSizesList(){return n}}},9225:function(e,t,s){"use strict";s.d(t,"c",function(){return l}),s.d(t,"b",function(){return f}),s.d(t,"a",function(){return v});s("28a5"),s("ac6a");var r=s("c1df"),a=s.n(r),n=s("2b0e"),o=s("a925"),i=s("0abc"),c=s("f744"),d=s("3d48");n["a"].use(o["a"]);const l={"en-US":"English","bg-BG":"Български"},u={},m=o["a"].prototype._translate;o["a"].prototype._translate=function(e,t,s,r,a,n,o){return u[r]||(u[r]=r),m.apply(this,arguments)};const h=Object.keys(l)[0],p={};p[h]=u;const f=new o["a"]({locale:h,fallbackLocale:h,messages:p}),g=[h],v=function(e){return f.locale!==e?-1==g.indexOf(e)?s("be75")(`./${e}`).then(t=>{return f.setLocaleMessage(e,t.default),g.push(e),y(e)}):Promise.resolve(y(e)):Promise.resolve(e)},y=function(e){return f.locale=e,d["a"].setItem(i["a"].get("VUE_APP_PREFERRED_LANGUAGE_STORAGE_KEY"),e),c["a"].setLanguage(e),a.a.locale(e),document.querySelector("html").setAttribute("lang",e),e},b=function(e){if(l[e])return e;e=(e||"").toLowerCase();for(let t in l){let s=t.toLowerCase().split("-");for(let r in s)if(e===s[r])return t}return Object.keys(l)[0]};v(d["a"].getItem(i["a"].get("VUE_APP_PREFERRED_LANGUAGE_STORAGE_KEY"),b(window.navigator.userLanguage||window.navigator.language)))},9242:function(e,t,s){"use strict";s.d(t,"a",function(){return a});var r=s("dd93");class a{constructor(e){this.load(e)}load(e){e=e||{},this.id=r["a"].isEmpty(e.id)?null:e.id,this.createdAt=r["a"].isEmpty(e.createdAt)?null:e.createdAt,this.updatedAt=r["a"].isEmpty(e.updatedAt)?null:e.updatedAt,this.metaData=r["a"].isObject(e.metaData)?e.metaData:this.metaData||{}}export(){return Object.assign({},this)}clone(e){return e=e||{},new this.constructor(Object.assign(this.export(),e))}get createdAtFromNow(){return r["a"].getTimeFromNow(this.createdAt)}get updatedAtFromNow(){return r["a"].getTimeFromNow(this.updatedAt)}static createInstances(e){var t=[];e=e||[];for(let s in e)t.push(new this(e[s]));return t}}},a1a6:function(e,t,s){},be75:function(e,t,s){var r={"./bg-BG":["c8b1","messages-bg-BG"],"./bg-BG.json":["c8b1","messages-bg-BG"]};function a(e){var t=r[e];return t?s.e(t[1]).then(function(){var e=t[0];return s.t(e,3)}):Promise.resolve().then(function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t})}a.keys=function(){return Object.keys(r)},a.id="be75",e.exports=a},dd93:function(e,t,s){"use strict";s.d(t,"a",function(){return n});s("a481"),s("6b54"),s("28a5"),s("ac6a");var r=s("c1df"),a=s.n(r);class n{static isObject(e){return null!==e&&"object"===typeof e&&e.constructor!==Array}static isArray(e){return null!==e&&"object"===typeof e&&e.constructor===Array}static isFunction(e){return null!==e&&"function"===typeof e}static isBoolean(e){return"boolean"===typeof e}static isString(e){return"string"===typeof e}static isEmpty(e){return""===e||null===e||"undefined"===typeof e||this.isArray(e)&&0===e.length||this.isObject(e)&&0===Object.keys(e).length}static inArray(e,t){for(let s=e.length-1;s>=0;s--)if(e[s]==t)return!0;return!1}static groupByKey(e,t){var s={};for(let r in e)s[e[r][t]]=s[e[r][t]]||[],s[e[r][t]].push(e[r]);return s}static removeByKey(e,t,s){for(let r in e)if(e[r][t]==s){e.splice(r,1);break}}static findByKey(e,t,s){for(let r in e)if(e[r][t]==s)return e[r];return null}static unshiftByKey(e,t,s){for(let r=e.length-1;r>=0;r--)if(e[r][t]==s){if(0!=r){let t=e.splice(r,1);e.unshift(t[0])}break}}static pushUnique(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"id";for(let r=e.length-1;r>=0;r--)if(e[r][s]==t[s])return;e.push(t)}static getNestedVal(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:".";var a=e||{},n=t.split(r);for(let o=0;o<n.length;o++){if("undefined"===typeof a[n[o]])return s;a=a[n[o]]}return a}static randomString(e){e=e||10;var t="",s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(let r=0;r<e;r++)t+=s.charAt(Math.floor(Math.random()*s.length));return t}static utcToLocal(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"YYYY-MM-DD HH:mm:ss";return a.a.utc(e).local().format(t)}static getTimeFromNow(e){return a.a.utc(e).local().fromNow()}static copyToClipboard(e){if(!e.length)return!1;try{var t=document.createElement("textarea");return document.body.appendChild(t),t.value=e,t.select(),document.execCommand("copy"),document.body.removeChild(t),!0}catch(s){console.warn("Failed to copy.")}return!1}static getContrastHex(e){return e?(e.startsWith("#")&&(e=e.substr(1)),parseInt(e,16)>8388607.5?"#000000":"#ffffff"):"#ffffff"}static hexToRgb(e){var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16)}:{}}static setCaretPosition(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if("function"===typeof document.createRange){var s=document.createRange();s.selectNodeContents(e),s.setStart(e.firstChild,t),s.setEnd(e.firstChild,t);var r=window.getSelection();r.removeAllRanges(),r.addRange(s)}}static isFormField(e){var t=e&&e.tagName?e.tagName.toLowerCase():"";return"input"===t||"button"===t||"select"===t||"textarea"===t}static loadImage(e){return new Promise((t,s)=>{let r=new Image;r.onload=()=>t({success:!0,url:e,width:r.naturalWidth,height:r.naturalHeight}),r.onerror=()=>t({success:!1,url:e,width:0,height:0}),r.src=e})}static closestFeatureEdge(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5;e=e,s=s,t.x=t.x||0,t.y=t.y||0,t.w=t.w||e.naturalWidth,t.h=t.h||e.naturalHeight;var r=document.createElement("canvas");r.width=t.w,r.height=t.h;var a=r.getContext("2d");a.fillStyle="white",a.fillRect(0,0,t.w,t.h),a.drawImage(e,t.x,t.y,t.w,t.h,0,0,t.w,t.h);var n=a.getImageData(0,0,t.w,t.h);for(let l=0;l<n.height;l++)for(let e=0;e<n.width;e++){let t=4*(e+l*n.width),s=(n.data[t]+n.data[t+1]+n.data[t+2])/3;n.data[t]=s,n.data[t+1]=s,n.data[t+2]=s}var o=t.w,i=0,c=t.h,d=0;for(let l=0;l<n.height;l++)for(let e=0;e<n.width;e++){let r=4*(e+l*n.width),a=n.data[r],u=n.data[r-4],m=n.data[r],h=n.data[r-4*t.w],p=n.data[r+4*t.w];(a>u+s||a<u-s||a>m+s||a<m-s||a>h+s||a<h-s||a>p+s||a<p-s)&&(e<o&&(o=e),e>i&&(i=e),l<c&&(c=l),l>d&&(d=l))}return o=o<t.w?o:0,c=c<t.h?c:0,i=i||t.w,d=d||t.h,{x:o,y:c,w:i-o,h:d-c}}static getJwtPayload(e){try{let s=decodeURIComponent(atob(e.split(".")[1]).split("").map(function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)}).join(""));return JSON.parse(s)||{}}catch(t){}return{}}static isJwtExpired(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,s=n.getJwtPayload(e);return!(!n.isEmpty(s)&&(!s.exp||s.exp-t>a()().format("X")))}static openInWindow(e,t,s,r){t=t||1024,s=s||768,r=r||"popup";var a=window.innerWidth,n=window.innerHeight;t=t>a?a:t,s=s>n?n:s;var o=a/2-t/2,i=n/2-s/2;return window.open(e,r,"width="+t+",height="+s+",top="+i+",left="+o+",resizable,menubar=no")}static getQueryParams(e){var t={},s=e.indexOf("#"),r=e.indexOf("?"),a=e.substring(r+1,s>r?s:e.length).split("&");for(let n in a){let e=a[n].split("=");2===e.length&&(t[decodeURIComponent(e[0])]=decodeURIComponent(e[1]))}return t}static getWordInfoAt(e,t){var s=e.replace(/(\r\n|\n|\r)/gm," ").split(" "),r=0,a=0,n=0;for(let o=0;o<s.length;o++){if(a=r+o,n=a+s[o].length-1,t>=a&&t<=n)return{start:a,end:n,word:s[o]};r+=s[o].length}return{}}static createResettableStore(e){return n.isFunction(e.initialState)&&(e.state=e.initialState()),e.mutations&&e.mutations.reset||(e.mutations=e.mutations||{},e.mutations.reset=(t,s)=>{if(!n.isFunction(e.initialState))return;const r=e.initialState();for(let e in r)(!s||!s.length||s.indexOf(e)>=0)&&(t[e]=r[e])}),e.actions&&e.actions.reset||(e.actions=e.actions||{},e.actions.reset=(e,t)=>{e.commit("reset",t)}),e}}},ebd1:function(e,t,s){"use strict";s.d(t,"a",function(){return n});var r=s("9242"),a=s("dd93");class n extends r["a"]{load(e){e=e||{},super.load(e),this.email=a["a"].isEmpty(e.email)?"":e.email,this.firstName=a["a"].isEmpty(e.firstName)?"":e.firstName,this.lastName=a["a"].isEmpty(e.lastName)?"":e.lastName,this.type=a["a"].isEmpty(e.type)?"regular":e.type,this.status=a["a"].isEmpty(e.status)?"active":e.status,this.avatar=a["a"].isEmpty(e.avatar)?{}:e.avatar,this.settings=a["a"].isEmpty(e.settings)?{}:e.settings}getSetting(e,t){return a["a"].getNestedVal(this.settings,e,t)}getAvatar(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"original";return this.avatar[e]||this.avatar["original"]||""}get isSuperUser(){return"super"==this.type}get isRegular(){return this.id>0&&!this.isSuperUser}get fullName(){return(this.firstName+" "+this.lastName).trim()}get identifier(){return this.fullName||this.email||"ID "+this.id}}},f744:function(e,t,s){"use strict";var r=s("0c92"),a=s.n(r),n=s("0abc"),o=s("3d48");a.a.prototype.storeApiToken=function(e){o["a"].setItem("auth_token",e),this.setToken(e)},a.a.prototype.getStoredApiToken=function(e){return o["a"].getItem("auth_token","")},a.a.prototype.loadStoredApiToken=function(){this.setToken(this.getStoredApiToken())},a.a.prototype.clearStoredApiToken=function(){o["a"].removeItem("auth_token")};const i=new a.a(n["a"].get("VUE_APP_API_URL"));i.loadStoredApiToken(),t["a"]=i}});