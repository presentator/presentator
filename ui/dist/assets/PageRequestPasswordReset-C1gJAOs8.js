import{S as I,i as J,s as K,L as N,d as E,t as w,a as y,m as T,c as A,f as O,g as $,o as x,q as Q,u as U,h as g,j as c,v as z,w as D,x as V,y as W,k as p,l as v,n as u,p as B,r as X,z as H,A as Y,B as M,F as Z,C as q,D as j,E as ee}from"./index-CEbzUpjs.js";function te(f){let e,a,t,r,n,o;return t=new Z({props:{class:"form-field form-field-lg",name:"email",$$slots:{default:[se,({uniqueId:l})=>({5:l}),({uniqueId:l})=>l?32:0]},$$scope:{ctx:f}}}),{c(){e=p("p"),e.textContent="Enter the email associated with your account and we'll send you a recovery link:",a=v(),A(t.$$.fragment),r=v(),n=p("button"),n.innerHTML='<i class="iconoir-send-mail"></i> <span class="txt">Send recovery link</span>',u(e,"class","m-b-sm"),u(n,"type","submit"),u(n,"class","btn btn-block btn-lg btn-primary"),q(n,"btn-disabled",f[1]),q(n,"btn-loading",f[1])},m(l,s){g(l,e,s),g(l,a,s),T(t,l,s),g(l,r,s),g(l,n,s),o=!0},p(l,s){const i={};s&97&&(i.$$scope={dirty:s,ctx:l}),t.$set(i),(!o||s&2)&&q(n,"btn-disabled",l[1]),(!o||s&2)&&q(n,"btn-loading",l[1])},i(l){o||(y(t.$$.fragment,l),o=!0)},o(l){w(t.$$.fragment,l),o=!1},d(l){l&&($(e),$(a),$(r),$(n)),E(t,l)}}}function le(f){let e,a,t,r,n,o,l,s;return{c(){e=p("div"),a=p("div"),t=p("p"),r=M(`Go check your email for the recovery link:
                            `),n=p("br"),o=v(),l=p("strong"),s=M(f[0]),u(a,"class","content txt-center"),u(e,"class","alert m-0")},m(i,d){g(i,e,d),c(e,a),c(a,t),c(t,r),c(t,n),c(t,o),c(t,l),c(l,s)},p(i,d){d&1&&Y(s,i[0])},i:H,o:H,d(i){i&&$(e)}}}function se(f){let e,a,t,r,n,o,l,s,i;return{c(){e=p("div"),a=p("label"),t=p("i"),n=v(),o=p("input"),u(t,"class","iconoir-mail"),u(a,"for",r=f[5]),u(a,"class","addon prefix"),o.autofocus=!0,o.required=!0,u(o,"type","email"),u(o,"id",l=f[5]),u(o,"placeholder","Email"),u(e,"class","field-group")},m(d,_){g(d,e,_),c(e,a),c(a,t),c(e,n),c(e,o),j(o,f[0]),o.focus(),s||(i=[D(ee.call(null,a,{position:"left",text:"Email"})),z(o,"input",f[4])],s=!0)},p(d,_){_&32&&r!==(r=d[5])&&u(a,"for",r),_&32&&l!==(l=d[5])&&u(o,"id",l),_&1&&o.value!==d[0]&&j(o,d[0])},d(d){d&&$(e),s=!1,x(i)}}}function ae(f){let e,a,t,r,n,o,l,s,i,d,_,k,L,S,F;t=new O({});const P=[le,te],b=[];function R(m,h){return m[2]?0:1}return s=R(f),i=b[s]=P[s](f),{c(){e=p("div"),a=p("header"),A(t.$$.fragment),r=v(),n=p("form"),o=p("h4"),o.textContent=`${G}`,l=v(),i.c(),d=v(),_=p("div"),k=p("a"),k.innerHTML='<div class="txt">Back to Login</div>',u(a,"class","block txt-center m-b-base"),u(o,"class","m-b-base"),u(n,"class","panel txt-center"),u(k,"href","/login"),u(k,"class","fade link-prev"),u(_,"class","block txt-center m-t-base"),u(e,"class","wrapper wrapper-sm m-b-base entrance-top")},m(m,h){g(m,e,h),c(e,a),T(t,a,null),c(e,r),c(e,n),c(n,o),c(n,l),b[s].m(n,null),c(e,d),c(e,_),c(_,k),L=!0,S||(F=[z(n,"submit",V(f[3])),D(W.call(null,k))],S=!0)},p(m,h){let C=s;s=R(m),s===C?b[s].p(m,h):(Q(),w(b[C],1,1,()=>{b[C]=null}),U(),i=b[s],i?i.p(m,h):(i=b[s]=P[s](m),i.c()),y(i,1),i.m(n,null))},i(m){L||(y(t.$$.fragment,m),y(i),L=!0)},o(m){w(t.$$.fragment,m),w(i),L=!1},d(m){m&&$(e),E(t),b[s].d(),S=!1,x(F)}}}function ne(f){let e,a;return e=new N({props:{fullpage:!0,header:!1,title:G,$$slots:{default:[ae]},$$scope:{ctx:f}}}),{c(){A(e.$$.fragment)},m(t,r){T(e,t,r),a=!0},p(t,[r]){const n={};r&71&&(n.$$scope={dirty:r,ctx:t}),e.$set(n)},i(t){a||(y(e.$$.fragment,t),a=!0)},o(t){w(e.$$.fragment,t),a=!1},d(t){E(e,t)}}}const G="Forgotten password";function oe(f,e,a){let t="",r=!1,n=!1;async function o(){if(!r){a(1,r=!0);try{await B.collection("users").requestPasswordReset(t),X(),a(2,n=!0)}catch(s){B.error(s)}a(1,r=!1)}}function l(){t=this.value,a(0,t)}return[t,r,n,o,l]}class ie extends I{constructor(e){super(),J(this,e,oe,ne,K,{})}}export{ie as default};
